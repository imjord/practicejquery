<!DOCTYPE html>
<html lang="en">
    <head> 
        <meta charset="UTF-8">
        <title> Practice udemy jquery </title>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    </head>
    <body>
        <div>
            <form id="myForm">
                <label for="first">First Name: </label>
                <input type="text" name="first">
                <br>
                <label for="last">last Name: </label>
                <input type="text" name="last">
                <br>
                <label for="email">email Name: </label>
                <input type="text" name="email">
                <br>
                <label for="password">password Name: </label>
                <input type="password" name="password">
                <br>
                <button type="button"> Submit! </button>

            </form>
        </div>
        <script>
            $(document).ready(function(){
                $('button').click(function(){
                    validateMe();

                })
                function validateMe(){
                    $('label').css('color', 'black');
                   var error = [];
                   var emailReg = /(.+)@(.+){2,}\.(.+){2,}/;
                   $('#myForm input').each(function(){
                    var inputName = $(this).attr('name')
                    if($(this).val().length > 4) {
                        console.log($(this).attr('name'));
                        if(inputName == 'email' && !emailReg.test($(this).val())){
                            console.log('invalid');
                        } else {
                            console.log('validd')
                        }

                    } else {
                        error.push($(this).attr('name'));
                    }
                   })
                   

                    if(error.length == 0){
                        $('#myForm').submit();
                    } else {
                        for(i=0;i<error.length;i++){
                            $('label[for="'+error[i]+'"]').css('color', 'red');
                            console.log(error[i]);
                        }
                    }
                }

                
            })

        </script>
    </body>
</html>